{% extends 'frontpage/base.html' %}
{% load static %}
{% block content %}
<div style="min-height: calc(100vh - 299px);">
<h1>Group: {{group.GroupName}}</h1>
{% if not groupMembers %}
    <form method="POST">
        {% csrf_token %}
        <p>{{group.GroupName}}<input type="hidden" name="Group" value="{{group.id}}"/> <input type="submit" value="Request to Join" /></p>
    </form>
{% endif %}

<h3>Members:</h3>
{% if user == group.Owner %}
    <form method="POST" action="{% url 'frontpage:groupView' group.id %}">
        {% csrf_token %}
        <p>Enter the emails of users you would like to invite, separated by commas.</p>
        <input style="width:450px" type="email" name="emails" multiple><input type="button" value="submit">
    </form>
    {% if emails %}
        <p>{{emails}}</p>
    {% endif %}
{% endif %}
{% for member in groupMembers %}
    <p>{{member.User.username}}</p>
{% endfor %}

<h3>Requests:</h3>
{% for request in groupRequests %}
    <form method="POST">
        {% csrf_token %}
        <p>{{request.User.username}}<input type="hidden" name="User" value="{{request.User.id}}"/><input type="submit" value="Accept Request"/></p>
    </form>
{% endfor %}
</div>
{% endblock content %}